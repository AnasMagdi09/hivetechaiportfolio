<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Hive Tech AI - Portfolio showcasing innovative AI-powered solutions">
    <title>Hive Tech AI - Portfolio</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&family=Inter:wght@300;400;600;700;900&display=swap"
        rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>

<body>
    <!-- Background Effects -->
    <div class="bg-grid"></div>
    <div class="bg-glow bg-glow-1"></div>
    <div class="bg-glow bg-glow-2"></div>

    <!-- Floating Shapes -->
    <div class="floating-shapes">
        <svg class="shape shape-1" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
            <path fill="url(#gradient1)"
                d="M44.7,-76.4C58.8,-69.2,71.8,-59.1,79.6,-45.8C87.4,-32.6,90,-16.3,88.5,-0.9C87,14.6,81.4,29.2,73.1,42.8C64.8,56.4,53.8,69,39.9,76.4C26,83.8,9.2,86,-7.5,86.2C-24.2,86.4,-48.4,84.6,-64.8,75.4C-81.2,66.2,-89.8,49.6,-93.7,32.1C-97.6,14.6,-96.8,-3.8,-90.7,-19.8C-84.6,-35.8,-73.2,-49.4,-59.3,-56.7C-45.4,-64,-28.9,-65,-13.5,-66.8C1.9,-68.6,30.6,-83.6,44.7,-76.4Z"
                transform="translate(100 100)" />
            <defs>
                <linearGradient id="gradient1" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#6366f1;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#8b5cf6;stop-opacity:1" />
                </linearGradient>
            </defs>
        </svg>

        <svg class="shape shape-2" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
            <path fill="url(#gradient2)"
                d="M39.5,-65.5C51.4,-58.1,61.3,-47.3,68.4,-34.8C75.5,-22.3,79.8,-8.1,79.3,6.1C78.8,20.3,73.5,34.5,64.8,46.3C56.1,58.1,44,67.5,30.4,72.8C16.8,78.1,1.7,79.3,-13.2,77.8C-28.1,76.3,-42.8,72.1,-55.3,64.2C-67.8,56.3,-78.1,44.7,-83.5,31.1C-88.9,17.5,-89.4,1.9,-85.7,-12.5C-82,-26.9,-74.1,-40.1,-63.2,-48.7C-52.3,-57.3,-38.4,-61.3,-24.8,-67.5C-11.2,-73.7,1.9,-82.1,15.5,-83.8C29.1,-85.5,27.6,-72.9,39.5,-65.5Z"
                transform="translate(100 100)" />
            <defs>
                <linearGradient id="gradient2" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#ec4899;stop-opacity:1" />
                </linearGradient>
            </defs>
        </svg>

        <svg class="shape shape-3" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
            <path fill="url(#gradient3)"
                d="M47.3,-78.7C61.1,-71.4,72.1,-58.3,78.9,-43.2C85.7,-28.1,88.3,-11,87.2,5.9C86.1,22.8,81.3,39.5,72.3,53.8C63.3,68.1,50.1,80,35.2,85.4C20.3,90.8,3.7,89.7,-12.5,87.3C-28.7,84.9,-44.5,81.2,-58.3,73.2C-72.1,65.2,-83.9,52.9,-89.8,38.1C-95.7,23.3,-95.7,6,-91.2,-9.8C-86.7,-25.6,-77.7,-39.9,-65.9,-48.7C-54.1,-57.5,-39.5,-60.8,-25.3,-67.9C-11.1,-75,-5.5,-86,2.5,-90.5C10.5,-95,33.5,-86,47.3,-78.7Z"
                transform="translate(100 100)" />
            <defs>
                <linearGradient id="gradient3" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#06b6d4;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#6366f1;stop-opacity:1" />
                </linearGradient>
            </defs>
        </svg>

        <svg class="shape shape-4" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
            <circle cx="100" cy="100" r="80" fill="url(#gradient4)" opacity="0.3" />
            <defs>
                <linearGradient id="gradient4" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#ec4899;stop-opacity:1" />
                </linearGradient>
            </defs>
        </svg>

        <svg class="shape shape-5" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
            <polygon points="100,10 40,198 190,78 10,78 160,198" fill="url(#gradient5)" opacity="0.3" />
            <defs>
                <linearGradient id="gradient5" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#6366f1;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#06b6d4;stop-opacity:1" />
                </linearGradient>
            </defs>
        </svg>
    </div>

    <!-- Header -->
    <header id="header" class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="index.html">
                        <img src="Group-2.png" alt="Hive Tech AI Logo" class="logo-img">
                    </a>
                </div>

                <nav class="nav" id="nav">
                    <ul class="nav-list">
                        <li><a href="#home" class="nav-link active" data-translate="nav.home">الرئيسية</a></li>
                        <li><a href="#projects" class="nav-link" data-translate="nav.projects">المشاريع</a></li>
                        <li><a href="about.html" class="nav-link" data-translate="nav.about">من نحن</a></li>
                        <li><a href="contact.html" class="nav-link" data-translate="nav.contact">تواصل معنا</a></li>
                    </ul>
                </nav>

                <div class="header-actions">
                    <button class="lang-switcher" id="langSwitcher">
                        <span class="lang-text">EN</span>
                    </button>
                    <button class="mobile-menu-toggle" id="mobileMenuToggle">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-background"></div>
        <div class="container">
            <div class="hero-content">
                <!-- Video Mascot -->
                <video id="heroVideo" class="hero-mascot" muted playsinline autoplay loop
                    style="transition: opacity 0.5s ease;">
                    <source src="bcc333e0cdda4249a7e60b5d71766e11.webm" type="video/webm">
                </video>

                <div class="hero-badge">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path
                            d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" />
                    </svg>
                    <span data-translate="hero.badge">حلول ذكية مبتكرة</span>
                </div>

                <h1 class="hero-title" data-translate="hero.title">معرض أعمالنا</h1>
                <p class="hero-subtitle" data-translate="hero.subtitle">
                    نعرض قدرات Hive Tech AI من خلال مشاريع مبتكرة تغطي مختلف القطاعات.
                    حلول ذكية مخصصة تحول أفكارك إلى واقع رقمي متميز.
                </p>

                <div class="hero-buttons">
                    <a href="#projects" class="btn btn-outline">
                        <span data-translate="hero.cta">استكشف المشاريع</span>
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path
                                d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" />
                        </svg>
                    </a>
                    <a href="https://hive-tech.ai" target="_blank" class="btn btn-outline">
                        <span data-translate="hero.visitWebsite">زيارة الموقع</span>
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path
                                d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z" />
                            <path
                                d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z" />
                        </svg>
                    </a>
                </div>
            </div>
        </div>

    </section>

    <!-- Stats Section -->
    <section class="stats-section">
        <div class="container">
            <div class="stats-grid">
                <div class="stat-card reveal">
                    <div class="stat-number">7+</div>
                    <div class="stat-label" data-translate="stats.projects">مشاريع متنوعة</div>
                </div>
                <div class="stat-card reveal">
                    <div class="stat-number">2</div>
                    <div class="stat-label" data-translate="stats.categories">قطاعات رئيسية</div>
                </div>
                <div class="stat-card reveal">
                    <div class="stat-number">100%</div>
                    <div class="stat-label" data-translate="stats.satisfaction">رضا العملاء</div>
                </div>
                <div class="stat-card reveal">
                    <div class="stat-number">24/7</div>
                    <div class="stat-label" data-translate="stats.support">دعم فني</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Filter Section -->
    <section class="filter-section">
        <div class="container">
            <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10" />
                        <circle cx="12" cy="12" r="3" />
                    </svg>
                    <span data-translate="filter.all">جميع المشاريع</span>
                </button>
                <button class="filter-btn" data-filter="ecommerce">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="9" cy="21" r="1" />
                        <circle cx="20" cy="21" r="1" />
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6" />
                    </svg>
                    <span data-translate="filter.ecommerce">التجارة الإلكترونية</span>
                </button>
                <button class="filter-btn" data-filter="service">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" />
                        <path d="M3 9h18" />
                        <path d="M9 21V9" />
                    </svg>
                    <span data-translate="filter.service">الأنظمة الخدمية</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="projects-section section">
        <div class="container">
            <div class="section-header">
                <div class="section-badge">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7" />
                        <rect x="14" y="3" width="7" height="7" />
                        <rect x="14" y="14" width="7" height="7" />
                        <rect x="3" y="14" width="7" height="7" />
                    </svg>
                    <span data-translate="projects.badge">أعمالنا</span>
                </div>
                <h2 class="section-title" data-translate="projects.title">مشاريعنا المميزة</h2>
                <p class="section-subtitle" data-translate="projects.subtitle">
                    حلول ذكية مخصصة لمختلف القطاعات تعكس خبرتنا في بناء أنظمة متكاملة
                </p>
            </div>

            <div class="projects-grid" id="projectsGrid">
                <!-- Projects will be dynamically loaded here -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="footer-logo">
                        <img src="Group-2.png" alt="Hive Tech AI Logo">
                        <img src="image-removebg-preview.png" alt="Mascot" class="footer-mascot">
                    </div>
                    <p class="footer-desc" data-translate="footer.description">
                        Hive Tech AI - نقدم حلول ذكية مبتكرة تعتمد على الذكاء الاصطناعي لتحويل أفكارك إلى واقع رقمي
                        متميز.
                    </p>
                    <div class="social-links">
                        <a href="https://www.facebook.com/share/1AcegFsUvq/" class="social-link" aria-label="Facebook"
                            target="_blank" rel="noopener noreferrer">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" />
                            </svg>
                        </a>
                        <a href="https://www.instagram.com/hivetechai?igsh=ZGNsYWV2YnA3cmdp" class="social-link"
                            aria-label="Instagram" target="_blank" rel="noopener noreferrer">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
                            </svg>
                        </a>
                        <a href="https://www.linkedin.com/company/hivetechai/" class="social-link" aria-label="LinkedIn"
                            target="_blank" rel="noopener noreferrer">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
                            </svg>
                        </a>
                    </div>
                </div>

                <div class="footer-col">
                    <h3 class="footer-title" data-translate="footer.quickLinks">روابط سريعة</h3>
                    <ul class="footer-links">
                        <li><a href="#home" data-translate="nav.home">الرئيسية</a></li>
                        <li><a href="#projects" data-translate="nav.projects">المشاريع</a></li>
                        <li><a href="about.html">من نحن</a></li>
                        <li><a href="contact.html">تواصل معنا</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h3 class="footer-title" data-translate="footer.services">خدماتنا</h3>
                    <ul class="footer-links">
                        <li><a href="#">تطوير المواقع</a></li>
                        <li><a href="#">تطبيقات الموبايل</a></li>
                        <li><a href="#">حلول الذكاء الاصطناعي</a></li>
                        <li><a href="#">إدارة السيرفرات</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h3 class="footer-title" data-translate="footer.contact">تواصل معنا</h3>
                    <ul class="footer-contact">
                        <li>
                            <a href="mailto:info@hive-tech.ai">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path
                                        d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
                                    <polyline points="22,6 12,13 2,6" />
                                </svg>
                                info@hive-tech.ai
                            </a>
                        </li>
                        <li>
                            <a href="https://hive-tech.ai" target="_blank">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <circle cx="12" cy="12" r="10" />
                                    <line x1="2" y1="12" x2="22" y2="12" />
                                    <path
                                        d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" />
                                </svg>
                                www.hive-tech.ai
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="footer-bottom">
                <p class="copyright" data-translate="footer.copyright">
                    © 2024 Hive Tech AI. جميع الحقوق محفوظة.
                </p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/projects-data.js"></script>
    <script src="js/language.js"></script>
    <script src="js/animations.js"></script>
    <script src="js/main.js"></script>
    <script>
        // Video Auto Play and Scroll Control
        document.addEventListener('DOMContentLoaded', function () {
            const video = document.getElementById('heroVideo');
            const hero = document.querySelector('.hero');

            if (video && hero) {
                // Ensure video plays on load
                video.play().catch(function (error) {
                    console.log('Video autoplay prevented:', error);
                    // Try to play on user interaction
                    document.addEventListener('click', function () {
                        video.play();
                    }, { once: true });
                });

                // Control video opacity based on scroll
                window.addEventListener('scroll', function () {
                    const heroHeight = hero.offsetHeight;
                    const scrollPosition = window.pageYOffset;

                    // Fade out video as user scrolls past hero section
                    if (scrollPosition > heroHeight * 0.5) {
                        const fadeProgress = (scrollPosition - heroHeight * 0.5) / (heroHeight * 0.5);
                        video.style.opacity = Math.max(0, 1 - fadeProgress);
                    } else {
                        video.style.opacity = '1';
                    }
                });
            }

            // ========================================
            // ADVANCED SCROLL ANIMATIONS
            // ========================================



            // 2. Counter Animation for Stats
            const statNumbers = document.querySelectorAll('.stat-number');
            let countersAnimated = false;

            const animateCounter = (element) => {
                const text = element.textContent;
                const hasPlus = text.includes('+');
                const hasPercent = text.includes('%');
                const hasSlash = text.includes('/');

                let targetNumber;
                if (hasSlash) {
                    // For "24/7" format - animate separately
                    const parts = text.split('/');
                    const num1 = parseInt(parts[0]);
                    const num2 = parseInt(parts[1]);

                    let current1 = 0;
                    let current2 = 0;
                    const duration = 2000;
                    const increment1 = num1 / (duration / 16);
                    const increment2 = num2 / (duration / 16);

                    const counter = setInterval(() => {
                        current1 += increment1;
                        current2 += increment2;

                        if (current1 >= num1 && current2 >= num2) {
                            element.textContent = `${num1}/${num2}`;
                            clearInterval(counter);
                        } else {
                            element.textContent = `${Math.floor(current1)}/${Math.floor(current2)}`;
                        }
                    }, 16);
                    return;
                }

                targetNumber = parseInt(text.replace(/[^0-9]/g, ''));
                if (isNaN(targetNumber)) return;

                let currentNumber = 0;
                const duration = 2000;
                const increment = targetNumber / (duration / 16);

                const counter = setInterval(() => {
                    currentNumber += increment;
                    if (currentNumber >= targetNumber) {
                        currentNumber = targetNumber;
                        clearInterval(counter);
                    }

                    let displayText = Math.floor(currentNumber).toString();
                    if (hasPlus) displayText += '+';
                    if (hasPercent) displayText += '%';

                    element.textContent = displayText;
                }, 16);
            };

            const statsObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && !countersAnimated) {
                        countersAnimated = true;
                        statNumbers.forEach((stat, index) => {
                            setTimeout(() => {
                                animateCounter(stat);
                            }, index * 200);
                        });
                        statsObserver.disconnect();
                    }
                });
            }, { threshold: 0.5 });

            const statsSection = document.querySelector('.stats-section');
            if (statsSection) {
                statsObserver.observe(statsSection);
            }

            // 3. Project Cards Animation with Scroll Direction Detection - RESPONSIVE & SMOOTH
            setTimeout(() => {
                const projectCards = document.querySelectorAll('.project-card');
                const directions = ['right', 'left', 'top', 'bottom', 'right', 'left', 'center'];
                const cardStates = new Map();
                let lastScrollY = window.pageYOffset;
                let scrollDelta = 0;

                // Responsive animation values
                const isMobile = window.innerWidth <= 767;
                const isTablet = window.innerWidth <= 1023 && window.innerWidth > 767;

                const getTranslateDistance = () => {
                    if (isMobile) return 80;
                    if (isTablet) return 120;
                    return 200;
                };

                const getRotation = () => {
                    if (isMobile) return 10;
                    if (isTablet) return 15;
                    return 25;
                };

                const getTransitionDuration = () => {
                    if (isMobile) return '1s';
                    if (isTablet) return '1.5s';
                    return '2s';
                };

                projectCards.forEach((card, index) => {
                    const direction = directions[index % directions.length];
                    cardStates.set(card, {
                        direction,
                        animated: false,
                        inView: false,
                        reverseTimeout: null
                    });

                    // Responsive transition duration
                    card.style.transition = `all ${getTransitionDuration()} cubic-bezier(0.34, 1.56, 0.64, 1)`;
                });

                const applyInitialState = (card, direction) => {
                    const dist = getTranslateDistance();
                    const rot = getRotation();

                    card.style.opacity = '0';
                    card.style.filter = isMobile ? 'blur(4px)' : 'blur(8px)';
                    switch (direction) {
                        case 'right':
                            card.style.transform = `translateX(${dist}px) rotate(${rot}deg) scale(0.6)`;
                            break;
                        case 'left':
                            card.style.transform = `translateX(-${dist}px) rotate(-${rot}deg) scale(0.6)`;
                            break;
                        case 'top':
                            card.style.transform = `translateY(-${dist}px) rotate(-${rot / 2}deg) scale(0.5)`;
                            break;
                        case 'bottom':
                            card.style.transform = `translateY(${dist}px) rotate(${rot / 2}deg) scale(0.5)`;
                            break;
                        case 'center':
                            card.style.transform = `scale(0.2) rotate(${isMobile ? 180 : 360}deg)`;
                            break;
                    }
                };

                const applyFinalState = (card) => {
                    card.style.opacity = '1';
                    card.style.filter = 'blur(0px)';
                    card.style.transform = 'translateX(0) translateY(0) rotate(0) scale(1)';
                };

                // Initialize all cards
                projectCards.forEach(card => {
                    const state = cardStates.get(card);
                    applyInitialState(card, state.direction);
                });

                // Detect scroll direction with sensitivity
                window.addEventListener('scroll', () => {
                    const currentScrollY = window.pageYOffset;
                    scrollDelta = currentScrollY - lastScrollY;
                    const scrollingUp = scrollDelta < 0;
                    const scrollingDown = scrollDelta > 0;

                    projectCards.forEach(card => {
                        const state = cardStates.get(card);
                        const rect = card.getBoundingClientRect();
                        const isInView = rect.top < window.innerHeight * 0.9 && rect.bottom > 0;
                        const isLeavingTop = rect.bottom < window.innerHeight * 0.8;

                        // Scroll Down - Animate In (Fast)
                        if (scrollingDown && isInView && !state.animated) {
                            const index = Array.from(projectCards).indexOf(card);

                            // Clear any pending reverse
                            if (state.reverseTimeout) {
                                clearTimeout(state.reverseTimeout);
                                state.reverseTimeout = null;
                            }

                            setTimeout(() => {
                                applyFinalState(card);
                                state.animated = true;
                                state.inView = true;
                            }, index * 120);
                        }

                        // Scroll Up - IMMEDIATE & VERY SLOW Reverse Animation
                        // Triggers on ANY scroll up, even 1px!
                        if (scrollingUp && state.animated) {
                            // More sensitive trigger - starts reversing earlier
                            if (isLeavingTop || Math.abs(scrollDelta) > 1) {
                                const index = Array.from(projectCards).indexOf(card);

                                // Clear any existing timeout
                                if (state.reverseTimeout) {
                                    clearTimeout(state.reverseTimeout);
                                }

                                // Reverse with dramatic stagger (last card first)
                                state.reverseTimeout = setTimeout(() => {
                                    applyInitialState(card, state.direction);
                                    state.animated = false;
                                    state.inView = false;
                                    state.reverseTimeout = null;
                                }, (projectCards.length - index) * 150);
                            }
                        }
                    });

                    lastScrollY = currentScrollY;
                }, { passive: true });

                // Initial check for cards in view
                setTimeout(() => {
                    projectCards.forEach(card => {
                        const rect = card.getBoundingClientRect();
                        const isInView = rect.top < window.innerHeight * 0.9 && rect.bottom > 0;
                        const state = cardStates.get(card);

                        if (isInView && !state.animated) {
                            const index = Array.from(projectCards).indexOf(card);
                            setTimeout(() => {
                                applyFinalState(card);
                                state.animated = true;
                            }, index * 120);
                        }
                    });
                }, 500);
            }, 1000);

            // 4. Stat Cards Animation from Different Directions
            const statCards = document.querySelectorAll('.stat-card');
            const statDirections = ['right', 'left', 'top', 'bottom'];

            statCards.forEach((card, index) => {
                const direction = statDirections[index % statDirections.length];

                card.style.opacity = '0';
                card.style.transition = 'all 0.6s cubic-bezier(0.4, 0, 0.2, 1)';

                switch (direction) {
                    case 'right':
                        card.style.transform = 'translateX(80px) scale(0.9)';
                        break;
                    case 'left':
                        card.style.transform = 'translateX(-80px) scale(0.9)';
                        break;
                    case 'top':
                        card.style.transform = 'translateY(-80px) scale(0.9)';
                        break;
                    case 'bottom':
                        card.style.transform = 'translateY(80px) scale(0.9)';
                        break;
                }
            });

            const statCardsObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const card = entry.target;
                        const index = Array.from(statCards).indexOf(card);

                        setTimeout(() => {
                            card.style.opacity = '1';
                            card.style.transform = 'translateX(0) translateY(0) scale(1)';
                        }, index * 100);

                        statCardsObserver.unobserve(card);
                    }
                });
            }, { threshold: 0.3 });

            statCards.forEach(card => {
                statCardsObserver.observe(card);
            });
        });
    </script>
</body>

</html>